# OTA (Over the Air)
---
### OTA 작동 방식
1. 업데이트 준비 : SW or Firmware 업데이트 생성 및 테스트
     - OTA 서버에 업로드 후 디바이스가 다운로드 하도록 설정
2. 배포 및 다운로드 : 장치가 주기적으로 OTA 서버를 확인하고, 새로운 업데이트가 있을 경우 다운로드함
     - Full update : 전체 이미지 업데이트 / Delta update : 변경된 부분만 업데이트
3. 검증 및 적용
     - 다운로드가 완료되면 장치가 파일의 무결성 확인(예: 해시 검증)
     - 검증 후 설치 진행, 설치 중 오류 발생 시 롤백 기능 동작 가능
     - 적용 후 장치가 재부팅되어 새로운 업데이트 활성화
  
--- 
### 구성 요소
1. OTA 서버
     - 웹 서버 구축
          - 새로운 소프트웨어 업데이트를 관리하는 인터페이스 제공
          - Full image or Differential image 업로드 기능 제공
          - 관리자 인증 기능 추가 (비인가 사용자의 다운로드 방지)
      - MQTT 서버 설정
          - 최신 소프트웨어 버전과 유형을 실시간으로 브로드캐스트
          - 암호화 및 보안 메시징 적용해서 해킹 방지
2. 적용 차량
     - MQTT 클라이언트
          - 서버에서 업데이트 정보 수신 후 다운로드
          - 업데이트 소프트웨어 무결성 검증(암호화 기술 활용)
      - 타겟 ECU 개발
          - 차량 내 네트워크 (Ethernet to CAN 모듈)와 통신
          - OTA 업데이트 성공 여부를 확인하는 센서 모듈 개발
3. 보안 위협 및 대응 전략
     - 네트워크 보안 강화
          - TLS 1.3 및 SSL 적용 (중간자 공격 방지)
          - VPN 터널링 활용 (안전한 서버-차량 간 통신 보장)
          - 정기적인 네트워크 보안 점검
      - 서버, 소프트웨어, 차량 간 상호 인증
          - PKI(공개 키 기반 인프라) 사용 (신뢰할 수 있는 엔티티만 업데이트 수행 가능)
          - 디지털 서명 적용 (업데이트 소프트웨어의 무결성 및 출처 확인)
          - 소프트웨어 해시 보호 (다운그레이드 공격 방지)
      - 롤백 공격 방지
          - 버전 관리 시스템 구축 (구버전 소프트웨어 설치 방지)
          - 공식 다운그레이드와 롤백 공격을 구분하는 알고리즘 개발
      - 기타 보안 강화 방안
          - OTA 시스템의 정기적인 보안 패치 및 업데이트
          - 이상 탐지 시스템 도입 (비정상적인 OTA 활동 감지)
          - 침투 테스트 및 레드팀 시뮬레이션 수행

[보안 고려 사항](./self-assessment.md)