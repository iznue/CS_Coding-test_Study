# 보안 고려 사항
- OTA 업데이트 시스템의 보안성 평가 가이드라인
- OTA 시스템이 차량과 클라우드가 안전한 소프트웨어 배포를 수행이 가능하도록 설계되었는지 확인하는 것이 목표

---
### 0. 취약점 시나리오 분석 (Identifying Exploit Scenarios)
- OTA 서버 (Update sever) 공격 가능성
     - 보안 조치
          - 서버 접근에 관해 IP 제한, 방화벽, WAF(Web Application Firewall) 적용
          - 디지털 서명 및 코드 서명 적용하여 무결성 검증
          - 다중 인증(MFA) 및 관리자 계정 보안 강화를 위한 RBAC(Role-Based Access Control) 적용
- 네트워크 공격 가능성
     - 보안 조치
          - TLS 1.3 암호화 통신 적용
          - VPN 터널링 적용하여 보안 강화
          - 네트워크 트래픽 모니터링 및 침입 탐지 시스템(IDS) 구축
- 차량 내부 공격 가능성(gateway)
     - 보안 조치
          - 서버-차량 간 상호 인증(PKI, Mutual Authentication) 적용
          - OTA 업데이트 암호화 및 버전 검증
          - Rollback Protection 적용 (버전 비교 및 해시 검증 필수)
- ECU 공격 가능성
     - 보안 조치
          - OTA 업데이트에 디지털 서명 및 코드 서명 적용
          - ECU 보안 부팅(Secure Boot) 활성화
          - OTA 적용 전 차량 내 해시값 검증 및 복원 기능 추가
      
--- 
### 1. 네트워크 보안 (TLS/SSL, VPN)
1. MQTT 통신 암호화 (TLS 1.3 권장)
     - TLS 1.3 적용 필수 (TLS 1.2 이하 버전은 보안 취약점 존재)
     - AES-256, SHA-2 이상 사용
     - 세션 ID 보호 (Session Hijacking 방지)

2. VPN 적용 필요 (PPTP 대신 OpenVPN, WireGuard 권장)
     - 암호화 알고리즘: AES-256-GCM, ChaCha20-Poly1305 권장
     - 정기적인 네트워크 보안 점검 (6개월마다 권장)
  
---
### 2. 상호 인증 (Mutual Authentication)
1. PKI (공개 키 기반 인증) 사용 가능 여부 확인 필요
     - RSA-3072 또는 ECC 적용 (최소 2048비트 이상)
     - 디지털 서명 적용 (SHA-256 이상)
     - 공개 키 검증 (공격자가 가짜 인증서를 사용하지 못하도록 보호)

2. 디지털 서명 적용 필요 (업데이트 무결성 검증)
     - 소프트웨어에 디지털 서명 적용
     - 해시값(SHA-256 이상)으로 파일 무결성 검증

--- 
### 3. 롤백 공격 방어
1. 버전 관리 필수 (이전 버전 재설치 차단)
     - OTA 서버에서 최신 버전 여부 확인
     - 공식 다운그레이드와 공격자의 롤백을 구분하는 시스템 필요
     - 해당 버전에 보안 결함이 있을 경우 접근 차단 가능해야 함

2. 해시값 보호 필요 (서버와 차량 간 동기화 및 검증 강화)

---
### 4. 추가 공격 시나리오 고려
1. 정기적인 보안 패치 수행 필요
     - 최소 6개월마다 업데이트 적용
     - One-day, Zero-day 공격 대응 프로세스 구축 (긴급 보안 업데이트 절차 마련)

2. 이상 징후 탐지 시스템 적용 고려
     - OTA 트래픽 이상 탐지 (DoS, 비정상적인 업데이트 요청 감지)
     - ECU 이상 동작 탐지 (비정상적인 업데이트 적용 여부 확인)
   